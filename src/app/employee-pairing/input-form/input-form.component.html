<div class="layout-container">
    <form [formGroup]="employeeForm" (ngSubmit)="addEmployee()" class="form-section">
        <h2>Add Employee</h2>
        <div class="form-container">
            <div class="form-fields">
                <mat-form-field>
                    <mat-label>Employee Name</mat-label>
                    <input matInput type="text" formControlName="name">
                </mat-form-field>
                <mat-form-field>
                    <mat-label>Employee Section</mat-label>
                    <mat-select type="text" formControlName="section">
                        <mat-option value="Support">Support</mat-option>
                        <mat-option value="Developer">Developer</mat-option>
                        <mat-option value="Marketing">Marketing</mat-option>
                        <mat-option value="HR">HR</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <button type="submit" [disabled]="!employeeForm.valid" mat-flat-button>Add</button>
    </form>

    <hr class="divider">

    <div class="employees-section">
        <h2>Added Employee</h2>
        <div class="employees-grid">
            @for (employee of addedEmployees(); track employee.id) {
            <div class="employee-item">
                <button mat-stroked-button [matMenuTriggerFor]="employeeMenu" class="user-button">
                    <div class="user-content">
                        <mat-icon>account_circle</mat-icon>
                        <span>{{ employee.name }}</span>
                    </div>
                </button>
                <mat-menu #employeeMenu="matMenu">
                    <div class="menu-content">
                        <p>{{employee.name}}</p>
                        <p>{{employee.section}}</p>
                    </div>
                    <div class="menu-actions">
                        <button mat-icon-button (click)="deleteEmployee(employee.id)" matTooltip="Delete this Employee"
                            #tooltip="matTooltip" matTooltipPosition="below" matTooltipHideDelay="100000">
                            <mat-icon class="delete-icon">cancel</mat-icon>
                        </button>
                    </div>
                </mat-menu>
            </div>
            }
        </div>
        <button (click)="getCouples()" type="submit" mat-flat-button [disabled]="addedEmployees().length === 0">
            Submit
        </button>
    </div>
</div>